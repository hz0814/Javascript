<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="./commons/CommonUtil.js"></script>
  <script src="./commons/jquery.min.js"></script>
  <script>
    // 桥接模式：主要作用就是把抽象和现实分类开来，使他们完全独立

    // 应用场景：事件监听回调机制(用户点击按钮向服务器发送信息)

    // 当页面加载完毕执行函数体
    $(function () {
      // 1.前台业务
      var inp = document.getElementById('inp');
      // 用事件注册的方式 在元素上添加事件
      BH.EventUtil.addHandler(inp, 'click', sendReq);

      // 2.后台业务
      // 处理后台的函数
      function sendReq() {
        console.log('发送数据到后台：' + this.value);
      }
    })


    // 利用桥接模式分开两个业务单元
    $(function () {
      // 1.前台业务
      var inp = document.getElementById('inp');
      // 用事件注册的方式 在元素上添加事件
      BH.EventUtil.addHandler(inp, 'click', bridgeHandler);

      function bridgeHandler() {
        var msg = this.value;
        sendReq(msg);
      }

      // 2.后台业务
      // 处理后台的函数
      function sendReq(msg) {
        console.log('桥接模式发送数据到后台：' + msg);
      }
    })
  </script>
</head>

<body>
  <button id="inp" value="btn">按钮</button>
</body>

</html>